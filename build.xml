<?xml version="1.0"?>
<project name="Collage" default="flex-debug">
	<property name="src.dir" value="./src/"/>
	
	<target name="clean">
		<delete dir="./build/debug/" />
		<delete dir="./build/release/" />
		<mkdir dir="./build/debug/" />
		<mkdir dir="./build/release/" />
	</target>
	
	<target name="flex-debug" depends="clean">
		<property name="deploy.dir" value="./build/debug/"/>
		<exec executable="mxmlc" failonerror="true">
			<arg line="-source-path '${src.dir}'" />
			<arg line="-output '${deploy.dir}/components.swf'"/>
			<arg line="${src.dir}/CollageComponents.mxml"/>
		</exec>
	</target>
	
	<target name="flex-release" depends="clean">
		<property name="deploy.dir" value="./build/release/"/>
		<exec executable="mxmlc" failonerror="true">
			<arg line="-debug=false" />
			<arg line="-source-path '${src.dir}'" />
			<arg line="-output '${deploy.dir}/components.swf'"/>
			<arg line="${src.dir}/CollageComponents.mxml"/>
		</exec>
	</target>
</project>
